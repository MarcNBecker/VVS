<link rel="import" href="../../polymer/polymer/polymer.html">
<link rel="import" href="../../polymer/paper-elements/paper-elements.html">
<link rel="import" href="../../polymer/core-elements/core-elements.html">

<polymer-element name="vvs-modulplan-anlegen">
	<template>
		<link rel="stylesheet" type="text/css" href="../formate.css">
		<style>
			paper-checkbox::shadow #ink[checked] {
				color: #D32B18;
			}
			
			paper-checkbox::shadow #checkbox.checked {
				background-color: #D32B18;
				border-color: #D32B18;
			}
		</style>
		<paper-input-decorator id="modulplan" label="Modulplan" labelVisible floatingLabel>
			<input is="core-input" value={{eingabeModulplan}} on-keyup={{checkForButton}}>
		</paper-input-decorator>
		<paper-input-decorator id="vertiefungsrichtung" label="Vertiefungsrichtung" labelVisible floatingLabel>
			<input is="core-input" value={{eingabeVertiefungsrichtung}} on-keyup={{checkForButton}}>
		</paper-input-decorator>
		
		<p style="float: left; padding-top: 7px;">Vorlage verwenden:</p>
		<paper-checkbox id="checkboxVorlage" checked={{checkboxZustand}} on-click={{checkboxChanged}} style="float: left; margin-top: 25px; margin-right: 10px; margin-left: 10px;"></paper-checkbox>
		<paper-dropdown-menu id="dropdownVorlage" style="float: left; " label={{dropdownLabel}} disabled={{dropdownZustand}} >
			<paper-dropdown class="dropdown">
				<core-menu selected={{selectedVorlage}} class="menu"  id="dropdownmenu" on-click={{dropdownSelected}}>
					<paper-item>Vorlage 1</paper-item>
					<paper-item>Vorlage 2</paper-item>
					<paper-item>Vorlage 3</paper-item>
					<paper-item>Vorlage 4</paper-item>
				</core-menu>
			</paper-dropdown>
		</paper-dropdown-menu>
		
		<div style="clear:both;"></div>
		<br /><br />
		<div style="text-align: center;">
			<paper-button disabled={{buttonZustand}} raised="">Modulplan anlegen</paper-button>
		</div>
	</template>
	<script>
		Polymer({
			dropdownZustand: true,
			buttonZustand: true,
			eingabeModulplan:"",
			eingabeVertiefungsrichtung:"",
			checkboxZustand: false,
			dropdownLabel: "Vorlage",
			selectedVorlage: null,

			ready: function() {
        
			},
	  
			checkboxChanged: function checkboxChanged(){
		
				if (this.checkboxZustand == false){
					this.dropdownZustand = false;	
				}else{
					this.dropdownZustand = true;
					this.dropdownLabel = "Vorlage";
					this.selectedVorlage = null;
					if(this.eingabeModulplan == "" || this.eingabeVertiefungsrichtung == ""){
						this.buttonZustand = true;
					}
				}
			},
			
			dropdownSelected: function dropdownSelected(){
			//Wenn in der Dropdownbox ein Wert selektiert wurde,
			//kann der Button enabled werden
				this.buttonZustand = false;
			},	
			
			checkForButton: function checkForButton(){
				if(this.eingabeModulplan != "" && this.eingabeVertiefungsrichtung != ""){
					this.buttonZustand = false;
				}
				else{
					if(this.checkboxZustand == true){
						if(this.selectedVorlage == null){
							this.buttonZustand = true;
						}else{
							this.buttonZustand = false;
						}
					}else{
						this.buttonZustand = true;
					}
				}
			},

		});
	</script>
</polymer-element>